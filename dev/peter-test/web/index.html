<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Peter's Web Component</title>
    <style>
        dl {
            margin-left: 6px;
        }

        dt {
            font-weight: bold;
            color: #217ac0;
            font-size: 110%
        }

        dt {
            font-family: Consolas, "Liberation Mono", Courier
        }

        dd {
            margin-left: 16px
        }

        #peter-place-text-here{
            color: black;
        }
    </style>
</head>

<body>

    <template id="peter-test-template">
        <script type="text/javascript">
            /**
             * Prints out a given input with a specified number of times
             */
            function printLines() {
                let iteration = document.getElementById("input-number").value;          // Total lines to render
                let peterLine = 'Peter, this web component works!';        // String to repeat
                let toRender = '';                                                      // HTML placeholder

                // loop to create multiple rendered lines
                for(let i=0; i<iteration; i++) {
                    toRender += '<p>' + peterLine + '</p>';
                }

                // Resets text to dummy text when textbox is empty
                // if (toRender == '') { toRender = "<p>Dummy Text Here</p>" }
                // Gives notification text when a single number isn't entered
                if (isNaN(iteration)) { toRender = "<p>A Single Number Not Entered</p>" }

                //insert html code onto element with given id
                document.getElementById("peter-place-text-here").innerHTML = toRender;

                // Apply color to newly placed text
                changeColor();
            }

            /**
             * Changes all <p> elements to a text color
             */
            function changeColor() {
                let colorName = document.getElementById("input-color").value.replace(/\s/g, "");   // name of color to render on text

                // Set the css style's color to input color
                let pList = document.getElementsByTagName("P");
                for (let i = 0; i < pList.length; i++) {
                    pList[i].style["color"] = colorName;
                }
            }
        </script>
    </template>

    <peter-test></peter-test>

    <textarea id="input-number" cols="20" rows="2" oninput="printLines()" placeholder="Enter a number"></textarea>
    <textarea id="input-color" cols="20" rows="2" oninput="changeColor()" placeholder="Enter a color name"></textarea>

    <div id="peter-place-text-here"></div>

    <script src="main.js"></script>
</body>

</html>